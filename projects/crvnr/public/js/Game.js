!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var i=n(1),o=n(2),r={ARROW_DOWN:40,ARROW_UP:38,ARROW_LEFT:37,ARROW_RIGHT:39,WASD_DOWN:83,WASD_UP:87,WASD_LEFT:65,WASD_RIGHT:68};window.Game=function(e){function t(){var e=u.move();s.setView(e.x,e.y),s.updateMapCanvas()}var n=5;function a(e){switch(e.keyCode){case r.ARROW_DOWN||r.WASD_DOWN:u.setDirection("s");break;case r.ARROW_UP||r.WASD_UP:u.setDirection("n");break;case r.ARROW_LEFT||r.WASD_LEFT:u.setDirection("w");break;case r.ARROW_RIGHT||r>WASD_RIGHT:u.setDirection("e")}}var u=null,s=null;return{init:function(){u=new i,s=new o(e),console.log("Game canvas:",e);var t=u.getPosition();s.setView(t.x,t.y)},start:function(){setInterval(t,n),document.addEventListener("keydown",a)}}}},function(e,t){e.exports=function(){var e={x:200,y:200},t={speed:3},n={x:1,y:1};return{getPosition:function(){return e},setDirection:function(e){return(e={x:0,y:0}).indexOf("n")>-1&&(e.y-=1),e.indexOf("s")>-1&&(e.y-=1),e.indexOf("w")>-1&&(e.x-=1),e.indexOf("e")>-1&&(e.x+=1),n=e},move:function(){return e.x=e.x+n.x*t.speed,e.y=e.y+n.y*t.speed,e}}}},function(e,t,n){var i=n(3);e.exports=function(e){var t,n=i.points,o={x:e.width,y:e.height},r={x:200,y:200},a=((t=document.createElement("canvas")).className="pseudo-canvas",t.width=e.width,t.height=e.height,t);return{updateMapCanvas:function(){a.getContext("2d").clearRect(0,0,e.width,e.height),function(){var e=[],t=r.x,a=r.y,u={min:Math.max(t-o.x,0),max:Math.min(t+o.y,i.size.width)},s={min:Math.max(a-o.y,0),max:Math.min(a+o.y,i.size.height)};return n.forEach(function(t){t.position.x>u.min&&t.position.x<u.max&&t.position.y>s.min&&t.position.y<s.max&&e.push(t)}),e}().forEach(function(e){var t,n,i,u,s;t=r.x+o.x/2-e.position.x,n=e.position.y,i=e.size.width,u=e.name,(s=a.getContext("2d")).beginPath(),s.arc(t,n,i/2,0,2*Math.PI),s.stroke(),u&&(s.font="20px Calibri",s.fillText(u,t+i+5,n+i/4))}),e.getContext("2d").drawImage(a,0,0,e.width,e.height)},setView:function(e,t){r={x:e,y:t}}}},e.exports},function(e){e.exports={size:{width:1e5,height:1e5},points:[{name:"Town",position:{x:200,y:300},size:{width:10,height:10}},{name:"City",position:{x:600,y:400},size:{width:20,height:20}}]}}]);